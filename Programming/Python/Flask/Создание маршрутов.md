---
tags:
  - flask
  - python
---
# Простые маршруты
Маршрутами называется конечный url-адрес для страниц web-приложения. Например: ```http://127.0.0.1:5000``` или ```http://127.0.0.1:5000/about```

Данные страницы называются эндпоинтами. Т.е. для страницы информации о сайте необходимо обработать маршрут до страницы и соответствующий эндпоинт.

app.py:
```python
# импортируем основную библиотеку
from flask import Flask

# создание экземпляра класса приложения flask
app = Flask(__name__)

# создание эндпоинта для главной страницы
# с помощью декоратора 
@app.route('/')
def index():
	return 'Hello, World!'

if __name__ == "__main__":
	app.run(debug=True)
```

![[Pasted image 20250708224600.png]]

Для одного и того же эндпоинта может быть несколько маршрутов. Например, требуется, чтобы для маршрутов :/ и :/home были одинаковые страницы. Тогда необходимо сделать следующее:

app.py:
```python
@app.route('/')
@app.route('/home')
def index():
	return 'Hello, World!'
```

![[Pasted image 20250708225125.png]]

**При этом количество отслеживаемых адресов может быть любым.**


# Маршруты с аргументами
Допустим необходимо создавать динамически изменяющиеся маршруты. Например маршрут пользователя, который содержит текущий никнейм и идентификатор в базе данных. Создаем такой маршрут:

app.py:
```python
# декоратор маршута должен содержать передаваемые аргументы в функцию
# в данном случае необходимо передать имя пользователя и идентификатор
# пишем сначала тип передаваемого аргумента и после имя передаваемой переменной в аргументы эндпоинта
@app.route('/user/<string:name>/<int:id>')
def user(name, id):
	return f'User page: {name} - {str(id)}'
```

![[Pasted image 20250708230301.png]]

Полученные аргументы в адресе страницы успешно на ней появились.

Чтобы получать строку аргументов в url адресе используем специальную функцию в flask ```request```.

app.py:
```python
from flask import request

@app.route('/search')
def search():
    # Получаем параметры из строки запроса
    query = request.args.get('query', default='')  # значение по умолчанию
    page = request.args.get('page', default=1, type=int)
    sort = request.args.get('sort', default='asc')
    
    return f"Query: {query}, Page: {page}, Sort: {sort}"
```

Данная реализация позволяет принимать несколько аргументов на странице в формате: **/search?query=example&page=10&sort=hard**



# Методы обработки GET/POST
У маршрутов также есть методы запросов, которые позволяют получать или/и отдавать данные, GET и POST соответственно. GET позволяет загружать страницу по данному маршруту, а POST получать с нее данные. По умолчанию всегда стоит GET.

```python
@app.route('/example', method=['POST', 'GET'])
def example():
	pass
```

Далее по теме:
[[Шаблоны страниц]]
[[Работа с базой данных]]