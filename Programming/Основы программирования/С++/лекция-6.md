Компиляция - перевод из кода понятного человека на машинный язык (бинарники).
## Почти все программы состоят из нескольких файлов

Правильно разделять файлы по логике использования так как:
-  Упрощение повторного использования
-  Упрощение редактирования
-  Упрощение поиска
 Разделяют 3 вида файлов: .cpp - исходный файл, h/.hpp
 -  .cpp - исходный код.
 -  .hpp - хедер содержащий template-ы
 -  .h - обычный хедер с функциями

### Хедеры
Заголовочные файлы, которые содержат в себе только объявление функций, глобальных констант, определение классов и т.д.

```cpp
// math.h

#pranma once

int kSomeConst = 100;
int kAnotherConst = 200;

int Sum(int a, int b);

int Div(int a, int b);

```

### Файл исходников
В файле исходников содержится определение функций для данного заголовка

```cpp
// math.cpp

int Sum(int a, int b) {
	return a + b;
}

int Div(int a, int b) {
	return a - b;
}
```

## Компиляция и препроцессинг

Этапы трансляции:
-  Препроцессиг
-  Компиляция
-  Линковка

Единица трансляции - каждый исходный файл на этапе препроцессинга.

Также каждый компилятор с помощью аргументов может запускать каждый этап трансляции отдельно.
### Препроцессинг
Отдельный язык встроенный в C++, который лексически анализирует код.
Все команды препроцессора называются директивами. А директивы это все команды начинающиеся с #

```cpp
#include <cstdio>
```

В данном случае препроцессор подставит на место cstdio все объявленное внутри библиотеки в том числе и код определений.

// другие функции и псевдопеременные

#### Макросы
Кастомные инструкции препроцессора.

Препроцессор позволяет объявить через директивы некоторые функции. В таком случае объявленный код будет подставлен в место вызова.

```cpp
#include <iostream>

#define MAX(x, y) (x > y ? x : y)

int main() {
	std::cout << MAX(10, 20) << '\n';
	return 0;
}
```

#### Стражи
В том случае, если объявление нескольких функций пересекается в нескольких хедерах. Важно чтобы препроцессор не определил 2 раза одну и ту же функцию иначе будет ошибка компиляции, т.к. определение может быть только одно.

Два случая
```h
#ifndef HEADER_MATH_H
#define HEADER_MATH_H

#endif
```

```h
#pragma once
```

Оба случая предотвращают повторное определение из заголовков.
### Компиляция
Компилируется каждый из исходников и выдает для каждого файл-object с машинным кодом для исполнения каждой из функции.

### Линковка
Линкер задает адреса использования функций из объектного файла. На этапе линковки в каждый вызов функции подставляется адрес вызываемой функции.
По факту объединил все object-файлы в один исполняемый файл.

## Ошибки компиляции
### Ошибка компиляции
Происходит из-за ошибки синтаксиса :)
Не объявлена переменная там или присвоил инту строку, ты ж питонист.

### Ошибки линковки
Если не найдены объявления или определения чего-либо.
Например если компилировать только main.cpp, а файл исходников игнорировать.